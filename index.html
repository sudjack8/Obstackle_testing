<!DOCTYPE html>
<html>
<head>
  <title>Firebase with Google Sign-In</title>
  <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-auth.js"></script>
  <script src="https://apis.google.com/js/api.js"></script>
</head>
<body>
  <h1>Sign In with Google</h1>
  <button id="signInButton">Sign In</button>
  <script>
    // Your Firebase config
    var firebaseConfig = {
  apiKey: "AIzaSyBBLIK0EnQDP4GFRtSGsFJcyyEd06-bEdc",
  authDomain: "obstackle-test.firebaseapp.com",
  databaseURL: "https://obstackle-test-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "obstackle-test",
  storageBucket: "obstackle-test.firebasestorage.app",
  messagingSenderId: "483914204227",
  appId: "1:483914204227:web:1f4c6b314261ba37abc0f6"
};
    firebase.initializeApp(firebaseConfig);

    // Google Sign-In client ID (from Google Cloud Console)
    var GOOGLE_CLIENT_ID = "483914204227-8rqj41vkua7vakhpm3mhjrstaajngie1.apps.googleusercontent.com";

    // Function to sign in with Google
    function signInWithGoogle() {
      var provider = new firebase.auth.GoogleAuthProvider();
      firebase.auth().signInWithPopup(provider).then(function (result) {
        var token = result.credential.accessToken;
        var user = result.user;
        console.log("User signed in with Google: ", user);
        console.log("Google Access Token: ", token);
        // Sign in to Firebase
        firebase.auth().signInWithCredential(firebase.auth.GoogleAuthProvider.credential(token))
          .then(function (response) {
            console.log("User signed in to Firebase: ", response);
            window.location.href = "game.html";
          })
          .catch(function (error) {
            console.error("Error signing in to Firebase: ", error);
          });
      }).catch(function (error) {
        console.error("Error signing in with Google: ", error);
      });
    }

    // Attach the sign-in function to the button
    document.getElementById("signInButton").addEventListener("click", signInWithGoogle);
  </script>
</body>
</html>